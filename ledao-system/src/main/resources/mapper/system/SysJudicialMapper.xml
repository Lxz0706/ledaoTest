<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ledao.system.mapper.SysJudicialMapper">

    <resultMap type="SysJudicial" id="SysJudicialResult">
        <result property="id" column="id"/>
        <result property="itemId" column="item_id"/>
        <result property="itemTitle" column="item_title"/>
        <result property="itemOwner" column="item_owner"/>
        <result property="itemType" column="item_type"/>
        <result property="itemStatus" column="item_status"/>
        <result property="itemLink" column="item_link"/>
        <result property="itemInitialprice" column="item_initialprice"/>
        <result property="itemCurrentprice" column="item_currentprice"/>
        <result property="itemConsultprice" column="item_consultprice"/>
        <result property="itemMarketprice" column="item_marketprice"/>
        <result property="itemStartTime" column="item_start_time"/>
        <result property="itemEndTime" column="item_end_time"/>
        <result property="itemProvince" column="item_province"/>
        <result property="itemCity" column="item_city"/>
        <result property="itemCounty" column="item_county"/>
        <result property="itemSource" column="item_source"/>
        <result property="coordinate" column="coordinate"/>
        <result property="tags" column="tags"/>
        <result property="shopname" column="shopName"/>
        <result property="applyer" column="applyer"/>
        <result property="notify" column="notify"/>
        <result property="looker" column="looker"/>
        <result property="address" column="address"/>
        <result property="timestamp" column="timestamp"/>
    </resultMap>

    <sql id="selectSysJudicialVo">
        select id,
               item_id,
               item_title,
               item_owner,
               item_type,
               item_status,
               item_link,
               item_initialprice,
               item_currentprice,
               item_consultprice,
               item_marketprice,
               item_start_time,
               item_end_time,
               item_province,
               item_city,
               item_county,
               item_source,
               coordinate,
               tags,
               shopName,
               applyer,
               notify,
               looker,
               address,
            timestamp
        from sys_judicial
    </sql>

    <select id="selectSysJudicialList" parameterType="SysJudicial" resultMap="SysJudicialResult">
        <include refid="selectSysJudicialVo"/>
        <where>
            <if test="itemId != null  and itemId != ''">and item_id = #{itemId}</if>
            <if test="itemTitle != null  and itemTitle != ''">and item_title || item_owner like concat('%',
                #{itemTitle},'%')
            </if>
            <if test="itemOwner != null  and itemOwner != ''">and item_owner like concat('%', #{itemOwner},'%')</if>
            <if test="itemType != null  and itemType != ''">and item_type = #{itemType}</if>
            <if test="itemStatus != null  and itemStatus != ''">and item_status = #{itemStatus}</if>
            <if test="itemLink != null  and itemLink != ''">and item_link = #{itemLink}</if>
            <if test="itemInitialprice != null ">and item_initialprice = #{itemInitialprice}</if>
            <if test="itemCurrentprice != null ">and item_currentprice = #{itemCurrentprice}</if>
            <if test="itemConsultprice != null ">and item_consultprice = #{itemConsultprice}</if>
            <if test="itemMarketprice != null ">and item_marketprice = #{itemMarketprice}</if>
            <if test="itemStartTime != null ">and item_start_time = #{itemStartTime}</if>
            <if test="itemEndTime != null ">and item_end_time = #{itemEndTime}</if>
            <if test="itemProvince != null  and itemProvince != ''">and item_province = #{itemProvince}</if>
            <if test="itemCity != null  and itemCity != ''">and item_city = #{itemCity}</if>
            <if test="itemCounty != null  and itemCounty != ''">and item_county = #{itemCounty}</if>
            <if test="itemSource != null  and itemSource != ''">and item_source = #{itemSource}</if>
            <if test="coordinate != null  and coordinate != ''">and coordinate = #{coordinate}</if>
            <if test="tags != null  and tags != ''">and tags = #{tags}</if>
            <if test="shopname != null  and shopname != ''">and shopName like concat('%', #{shopname}, '%')</if>
            <if test="applyer != null ">and applyer = #{applyer}</if>
            <if test="notify != null ">and notify = #{notify}</if>
            <if test="looker != null ">and looker = #{looker}</if>
            <if test="address !=null">and address = #{address}</if>
            <if test="timestamp !=null">and timestamp= #{timestamp}</if>
        </where>
    </select>

    <select id="selectSysJudicialById" parameterType="Long" resultMap="SysJudicialResult">
        <include refid="selectSysJudicialVo"/>
        where id = #{id}
    </select>

    <insert id="insertSysJudicial" parameterType="SysJudicial" useGeneratedKeys="true" keyProperty="id">
        insert into sys_judicial
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="itemId != null">item_id,</if>
            <if test="itemTitle != null">item_title,</if>
            <if test="itemOwner != null">item_owner,</if>
            <if test="itemType != null">item_type,</if>
            <if test="itemStatus != null">item_status,</if>
            <if test="itemLink != null">item_link,</if>
            <if test="itemInitialprice != null">item_initialprice,</if>
            <if test="itemCurrentprice != null">item_currentprice,</if>
            <if test="itemConsultprice != null">item_consultprice,</if>
            <if test="itemMarketprice != null">item_marketprice,</if>
            <if test="itemStartTime != null">item_start_time,</if>
            <if test="itemEndTime != null">item_end_time,</if>
            <if test="itemProvince != null">item_province,</if>
            <if test="itemCity != null">item_city,</if>
            <if test="itemCounty != null">item_county,</if>
            <if test="itemSource != null">item_source,</if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="itemId != null">#{itemId},</if>
            <if test="itemTitle != null">#{itemTitle},</if>
            <if test="itemOwner != null">#{itemOwner},</if>
            <if test="itemType != null">#{itemType},</if>
            <if test="itemStatus != null">#{itemStatus},</if>
            <if test="itemLink != null">#{itemLink},</if>
            <if test="itemInitialprice != null">#{itemInitialprice},</if>
            <if test="itemCurrentprice != null">#{itemCurrentprice},</if>
            <if test="itemConsultprice != null">#{itemConsultprice},</if>
            <if test="itemMarketprice != null">#{itemMarketprice},</if>
            <if test="itemStartTime != null">#{itemStartTime},</if>
            <if test="itemEndTime != null">#{itemEndTime},</if>
            <if test="itemProvince != null">#{itemProvince},</if>
            <if test="itemCity != null">#{itemCity},</if>
            <if test="itemCounty != null">#{itemCounty},</if>
            <if test="itemSource != null">#{itemSource},</if>
        </trim>
    </insert>

    <update id="updateSysJudicial" parameterType="SysJudicial">
        update sys_judicial
        <trim prefix="SET" suffixOverrides=",">
            <if test="itemId != null">item_id = #{itemId},</if>
            <if test="itemTitle != null">item_title = #{itemTitle},</if>
            <if test="itemOwner != null">item_owner = #{itemOwner},</if>
            <if test="itemType != null">item_type = #{itemType},</if>
            <if test="itemStatus != null">item_status = #{itemStatus},</if>
            <if test="itemLink != null">item_link = #{itemLink},</if>
            <if test="itemInitialprice != null">item_initialprice = #{itemInitialprice},</if>
            <if test="itemCurrentprice != null">item_currentprice = #{itemCurrentprice},</if>
            <if test="itemConsultprice != null">item_consultprice = #{itemConsultprice},</if>
            <if test="itemMarketprice != null">item_marketprice = #{itemMarketprice},</if>
            <if test="itemStartTime != null">item_start_time = #{itemStartTime},</if>
            <if test="itemEndTime != null">item_end_time = #{itemEndTime},</if>
            <if test="itemProvince != null">item_province = #{itemProvince},</if>
            <if test="itemCity != null">item_city = #{itemCity},</if>
            <if test="itemCounty != null">item_county = #{itemCounty},</if>
            <if test="itemSource != null">item_source = #{itemSource},</if>
        </trim>
        where id = #{id}
    </update>

    <delete id="deleteSysJudicialById" parameterType="Long">
        delete
        from sys_judicial
        where id = #{id}
    </delete>

    <delete id="deleteSysJudicialByIds" parameterType="String">
        delete from sys_judicial where id in
        <foreach item="id" collection="array" open="(" separator="," close=")">
            #{id}
        </foreach>
    </delete>


    <select id="selectSysJudicialListTotal" parameterType="SysJudicial" resultType="Long">
        select count(*) from sys_judicial
        <where>
            <if test="itemId != null  and itemId != ''">and item_id = #{itemId}</if>
            <if test="itemTitle != null  and itemTitle != ''">and item_title || item_owner like concat('%',
                #{itemTitle},'%')
            </if>
            <if test="itemOwner != null  and itemOwner != ''">and item_owner like concat('%', #{itemOwner},'%')</if>
            <if test="itemType != null  and itemType != ''">and item_type = #{itemType}</if>
            <if test="itemStatus != null  and itemStatus != ''">and item_status = #{itemStatus}</if>
            <if test="itemLink != null  and itemLink != ''">and item_link = #{itemLink}</if>
            <if test="itemInitialprice != null ">and item_initialprice = #{itemInitialprice}</if>
            <if test="itemCurrentprice != null ">and item_currentprice = #{itemCurrentprice}</if>
            <if test="itemConsultprice != null ">and item_consultprice = #{itemConsultprice}</if>
            <if test="itemMarketprice != null ">and item_marketprice = #{itemMarketprice}</if>
            <if test="itemStartTime != null ">and item_start_time = #{itemStartTime}</if>
            <if test="itemEndTime != null ">and item_end_time = #{itemEndTime}</if>
            <if test="itemProvince != null  and itemProvince != ''">and item_province = #{itemProvince}</if>
            <if test="itemCity != null  and itemCity != ''">and item_city = #{itemCity}</if>
            <if test="itemCounty != null  and itemCounty != ''">and item_county = #{itemCounty}</if>
            <if test="itemSource != null  and itemSource != ''">and item_source = #{itemSource}</if>
            <if test="coordinate != null  and coordinate != ''">and coordinate = #{coordinate}</if>
            <if test="tags != null  and tags != ''">and tags = #{tags}</if>
            <if test="shopname != null  and shopname != ''">and shopName like concat('%', #{shopname}, '%')</if>
            <if test="applyer != null ">and applyer = #{applyer}</if>
            <if test="notify != null ">and notify = #{notify}</if>
            <if test="looker != null ">and looker = #{looker}</if>
        </where>
    </select>
</mapper>